# GLM Claude v1.0.2 - ç´§æ€¥ Bug ä¿®å¤

## ğŸ› ä¿®å¤çš„é—®é¢˜

### é—®é¢˜æè¿°

é¦–æ¬¡è¿è¡Œ `glm` å‘½ä»¤æ—¶å‡ºç°é”™è¯¯ï¼š

```
âŒ å‘ç”Ÿé”™è¯¯: inquirer.prompt is not a function
```

### é—®é¢˜åŸå› 

- **inquirer 9.x ç‰ˆæœ¬æ˜¯ ESM only**ï¼Œä¸æ”¯æŒ CommonJS çš„ `require()` è¯­æ³•
- æˆ‘ä»¬çš„ä»£ç ä½¿ç”¨ CommonJS (`const inquirer = require('inquirer')`)
- å¯¼è‡´ `inquirer.prompt` æ— æ³•æ­£ç¡®å¯¼å…¥ï¼Œè¿è¡Œæ—¶æŠ¥é”™

### å½±å“èŒƒå›´

- âŒ **é¦–æ¬¡é…ç½®æµç¨‹å®Œå…¨æ— æ³•ä½¿ç”¨**
- âŒ ç”¨æˆ·å®‰è£…åæ— æ³•é…ç½® API Key
- âœ… å·²é…ç½®ç”¨æˆ·ä¸å—å½±å“ï¼ˆä¸éœ€è¦äº¤äº’å¼è¾“å…¥ï¼‰

## âœ… ä¿®å¤æ–¹æ¡ˆ

### é‡‡å–çš„æªæ–½

```bash
# é™çº§ inquirer ä» 9.2.12 åˆ° 8.2.5
npm install inquirer@^8.2.5
```

**ä¸ºä»€ä¹ˆé€‰æ‹© 8.xï¼Ÿ**
- âœ… inquirer 8.x æ˜¯æœ€åä¸€ä¸ªæ”¯æŒ CommonJS çš„ç¨³å®šç‰ˆæœ¬
- âœ… åŠŸèƒ½å®Œæ•´ï¼Œæ»¡è¶³æˆ‘ä»¬æ‰€æœ‰éœ€æ±‚
- âœ… ä¸ç°æœ‰ä»£ç å®Œå…¨å…¼å®¹

### æµ‹è¯•éªŒè¯

```bash
# è¿è¡Œæµ‹è¯•å¥—ä»¶
npm test

# ç»“æœï¼šâœ… 9/9 æµ‹è¯•å…¨éƒ¨é€šè¿‡
```

## ğŸ“¦ ç‰ˆæœ¬å‘å¸ƒ

- **ç‰ˆæœ¬å·**: v1.0.1 â†’ **v1.0.2**
- **å‘å¸ƒæ—¶é—´**: 2025-11-17
- **npm**: https://www.npmjs.com/package/glm-claude

### ç”¨æˆ·å‡çº§

å·²å®‰è£…ç”¨æˆ·æ›´æ–°æ–¹å¼ï¼š

```bash
# æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬
npm update -g glm-claude

# æˆ–é‡æ–°å®‰è£…
npm install -g glm-claude@latest
```

## ğŸ”„ ç‰ˆæœ¬å¯¹æ¯”

| ç‰ˆæœ¬ | inquirer | çŠ¶æ€ | é¦–æ¬¡é…ç½® |
|------|----------|------|----------|
| v1.0.0 | 9.2.12 | âŒ æœ‰ bug | å¤±è´¥ |
| v1.0.1 | 9.2.12 | âŒ æœ‰ bug | å¤±è´¥ |
| **v1.0.2** | **8.2.5** | **âœ… æ­£å¸¸** | **æˆåŠŸ** |

## ğŸ“ æŠ€æœ¯ç»†èŠ‚

### ä¾èµ–å˜æ›´

```diff
  "dependencies": {
    "@anthropic-ai/claude-code": "^2.0.0",
    "axios": "^1.6.2",
    "boxen": "^5.1.2",
    "chalk": "^4.1.2",
    "conf": "^10.2.0",
-   "inquirer": "^9.2.12",
+   "inquirer": "^8.2.5",
    "ora": "^7.0.1"
  }
```

### CommonJS vs ESM

**é—®é¢˜ä»£ç ï¼ˆinquirer 9.xï¼‰ï¼š**
```javascript
const inquirer = require('inquirer');  // âŒ ESM onlyï¼Œä¸æ”¯æŒ
const answer = await inquirer.prompt([...]); // undefined.prompt â†’ æŠ¥é”™
```

**ä¿®å¤åï¼ˆinquirer 8.xï¼‰ï¼š**
```javascript
const inquirer = require('inquirer');  // âœ… æ”¯æŒ CommonJS
const answer = await inquirer.prompt([...]); // âœ… æ­£å¸¸å·¥ä½œ
```

## ğŸ¯ å½±å“è¯„ä¼°

### å¯¹ç”¨æˆ·çš„å½±å“

**v1.0.0 ~ v1.0.1 ç”¨æˆ·ï¼š**
- âŒ æ— æ³•å®Œæˆé¦–æ¬¡é…ç½®
- âŒ æ— æ³•ä½¿ç”¨ `glm` å‘½ä»¤
- **å»ºè®®ï¼šç«‹å³æ›´æ–°åˆ° v1.0.2**

**v1.0.2 åŠä»¥åç”¨æˆ·ï¼š**
- âœ… é…ç½®æµç¨‹å®Œå…¨æ­£å¸¸
- âœ… å¯ä»¥æ­£å¸¸ä½¿ç”¨æ‰€æœ‰åŠŸèƒ½

### ä¸‹è½½é‡å½±å“

- v1.0.0 ~ v1.0.1 ä¸‹è½½ç”¨æˆ·ï¼šå¯èƒ½é‡åˆ°é—®é¢˜
- éœ€è¦é€šè¿‡æ›´æ–°é€šçŸ¥å¼•å¯¼å‡çº§

## ğŸ“¢ ç”¨æˆ·é€šçŸ¥

### npm æ›´æ–°æç¤º

ç”¨æˆ·å®‰è£…æ—§ç‰ˆæœ¬æ—¶ä¼šçœ‹åˆ°ï¼š

```bash
npm install -g glm-claude

# npm ä¼šæç¤ºæœ‰æ–°ç‰ˆæœ¬
A new version of glm-claude is available: 1.0.2
Run 'npm install -g glm-claude' to update
```

### README æ›´æ–°

å·²åœ¨ README ä¸­æ ‡æ³¨å½“å‰ç¨³å®šç‰ˆæœ¬ï¼šv1.0.2

## ğŸ”® åç»­è®¡åˆ’

### çŸ­æœŸ

- âœ… ç›‘æ§ v1.0.2 ä½¿ç”¨æƒ…å†µ
- âœ… æ”¶é›†ç”¨æˆ·åé¦ˆ
- âœ… ç¡®è®¤é—®é¢˜å®Œå…¨è§£å†³

### é•¿æœŸ

**é˜²æ­¢ç±»ä¼¼é—®é¢˜ï¼š**
1. åœ¨ CI/CD ä¸­æ·»åŠ é›†æˆæµ‹è¯•
2. æµ‹è¯•é¦–æ¬¡è¿è¡Œæµç¨‹
3. é”å®šä¸»è¦ä¾èµ–ç‰ˆæœ¬
4. å®šæœŸæ£€æŸ¥ä¾èµ–æ›´æ–°

**ä¾èµ–ç®¡ç†ç­–ç•¥ï¼š**
```json
{
  "dependencies": {
    "inquirer": "~8.2.5",  // ä½¿ç”¨ ~ è€Œä¸æ˜¯ ^ï¼Œæ›´ä¸¥æ ¼çš„ç‰ˆæœ¬æ§åˆ¶
    ...
  }
}
```

## âœ… éªŒè¯æ¸…å•

- [x] Bug å·²ä¿®å¤
- [x] æµ‹è¯•å…¨éƒ¨é€šè¿‡
- [x] ç‰ˆæœ¬å·²å‘å¸ƒåˆ° npm
- [x] Git å·²æäº¤å¹¶æ‰“ tag
- [x] æ–‡æ¡£å·²æ›´æ–°
- [x] ç”¨æˆ·å¯ä»¥æ­£å¸¸å‡çº§

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ç”¨æˆ·åé¦ˆè¿™ä¸ªå…³é”®é—®é¢˜ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿå¿«é€Ÿä¿®å¤ï¼

---

**å½“å‰çŠ¶æ€ï¼š** âœ… é—®é¢˜å·²å®Œå…¨è§£å†³ï¼Œv1.0.2 è¿è¡Œæ­£å¸¸

**npm åŒ…ï¼š** https://www.npmjs.com/package/glm-claude

**GitHubï¼š** https://github.com/alchain/glm-claude
