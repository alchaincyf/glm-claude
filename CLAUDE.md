# ğŸš€ GLM Code - æ™ºè°± GLM é©±åŠ¨çš„ AI ç¼–ç¨‹åŠ©æ‰‹

æ¬¢è¿ä½¿ç”¨ **GLM Code**ï¼ä½ æ­£åœ¨ä½“éªŒç”±å›½äº§å¤§æ¨¡å‹ GLM-4.6 é©±åŠ¨çš„ä¸“ä¸š AI ç¼–ç¨‹å·¥å…·ã€‚

---

## âœ¨ é¡¹ç›®æ¦‚è¿°

**GLM Code** æ˜¯ä¸€ä¸ªæ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹ï¼Œå®ƒåŸºäº Claude Code æ¡†æ¶ï¼Œé€šè¿‡æ™ºè°± AI çš„ GLM-4.6 å¤§æ¨¡å‹ä¸ºå¼€å‘è€…æä¾›å¼ºå¤§çš„ AI ç¼–ç¨‹æ”¯æŒã€‚

### æ ¸å¿ƒä»·å€¼
- **ğŸ’° ä»·æ ¼å®æƒ ** - ä½è‡³ 20 å…ƒ/æœˆï¼Œä»…ä¸ºå›½é™…åŒç±»æœåŠ¡çš„ 1/7
- **ğŸš„ å›½å†…ä¼˜åŒ–** - è®¿é—®æ›´å¿«æ›´ç¨³å®šï¼Œå‘Šåˆ«ç½‘ç»œå›°æ‰°
- **ğŸ’³ æ”¯ä»˜ä¾¿æ·** - æ”¯æŒæ”¯ä»˜å®ã€å¾®ä¿¡æ”¯ä»˜ï¼Œå³å¼€å³ç”¨
- **ğŸ‡¨ğŸ‡³ ä¸­æ–‡ä¼˜åŒ–** - é’ˆå¯¹ä¸­æ–‡åœºæ™¯æ·±åº¦ä¼˜åŒ–ï¼Œç†è§£æ›´å‡†ç¡®
- **ğŸ”¥ GLM-4.6** - æœ€æ–°æ——èˆ°æ¨¡å‹ï¼Œæ€§èƒ½åª²ç¾å›½é™…é¡¶å°–æ°´å¹³

---

## ğŸ“¦ é¡¹ç›®ä¿¡æ¯

- **é¡¹ç›®åç§°**: GLM Code (glm-claude)
- **å½“å‰ç‰ˆæœ¬**: 1.2.0
- **Node.js è¦æ±‚**: >= 18.0.0
- **è®¸å¯è¯**: MIT
- **GitHub**: https://github.com/alchaincyf/glm-claude
- **npm**: https://www.npmjs.com/package/glm-claude
- **ä½œè€…**: alchain <alchaincyf@gmail.com>

---

## ğŸ› ï¸ å¼€å‘å‘½ä»¤

### å®‰è£…å’Œæ„å»º

```bash
# å®‰è£…ä¾èµ–
npm install

# å…¨å±€å®‰è£…ä»¥ä¾¿æµ‹è¯•
npm link

# è¿è¡Œæµ‹è¯•
npm test

# æµ‹è¯•è¦†ç›–ç‡
npm test -- --coverage
```

### å‘å¸ƒæµç¨‹

```bash
# å‘å¸ƒå‰æ£€æŸ¥æ¸…å•
# 1. æ›´æ–°ç‰ˆæœ¬å· (package.json)
# 2. æ›´æ–°æ–‡æ¡£
# 3. è¿è¡Œæµ‹è¯•
npm test

# ç™»å½• npm
npm login

# å‘å¸ƒåˆ° npm
npm publish

# åˆ›å»º git æ ‡ç­¾
git tag v1.2.0
git push origin v1.2.0
```

### å¼€å‘å·¥å…·

```bash
# è¿è¡Œç‰¹å®šæµ‹è¯•
npm test -- --testNamePattern="ConfigManager"

# è°ƒè¯•æ¨¡å¼
DEBUG=true npm test

# æ£€æŸ¥ä»£ç é£æ ¼ï¼ˆä½¿ç”¨ standard æˆ– eslintï¼‰
# å¦‚æœé¡¹ç›®æ·»åŠ äº† linterï¼Œè¿è¡Œç›¸åº”çš„å‘½ä»¤
```

---

## ğŸ—ï¸ ä»£ç æ¶æ„

### é¡¹ç›®ç»“æ„

```
glm-claude/
â”œâ”€â”€ bin/
â”‚   â””â”€â”€ glm.js                    # CLI å…¥å£ç‚¹
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.js                  # ä¸»å…¥å£ï¼Œå‘½ä»¤è§£æå’Œé…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ cli.js                    # CLI æ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ constants.js          # é…ç½®å¸¸é‡å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ manager.js            # é…ç½®ç®¡ç†å™¨ç±»
â”‚   â”‚   â””â”€â”€ validator.js          # API Key éªŒè¯å™¨
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ welcome.js            # æ¬¢è¿ç•Œé¢æ˜¾ç¤º
â”‚   â”‚   â””â”€â”€ prompts.js            # äº¤äº’å¼æç¤ºå’Œå¼•å¯¼
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ installer.js          # Claude Code ä¾èµ–å®‰è£…æ£€æŸ¥
â”‚   â”‚   â”œâ”€â”€ logger.js             # ç»Ÿä¸€æ—¥å¿—è¾“å‡ºå·¥å…·
â”‚   â”‚   â””â”€â”€ claude-config.js      # Claude Code é…ç½®æ–‡ä»¶ç”Ÿæˆ
â”‚   â””â”€â”€ templates/
â”‚       â””â”€â”€ CLAUDE.md            # GLM Code å“ç‰Œ CLAUDE.md æ¨¡æ¿
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ postinstall.js            # å®‰è£…åè„šæœ¬
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ config.test.js          # é…ç½®ç®¡ç†å™¨æµ‹è¯•
â”œâ”€â”€ jest.config.js              # Jest æµ‹è¯•é…ç½®
â”œâ”€â”€ package.json                 # é¡¹ç›®é…ç½®å’Œä¾èµ–
â””â”€â”€ README.md                    # é¡¹ç›®æ–‡æ¡£
```

### æ ¸å¿ƒæ¨¡å—è¯´æ˜

#### 1. CLI æ¨¡å— (`src/index.js`, `src/cli.js`)

**èŒè´£**: å‘½ä»¤è¡Œæ¥å£å¤„ç†ã€ç”¨æˆ·äº¤äº’æµç¨‹æ§åˆ¶

- **`index.js`**: ä¸»å…¥å£ç‚¹ï¼Œå¤„ç†å‘½ä»¤å‚æ•°è§£æ (`--help`, `--version`, `config` å‘½ä»¤)
- **`cli.js`**: æ ¸å¿ƒ CLI é€»è¾‘ï¼ŒåŒ…å«ï¼š
  - `setupFirstTime()`: é¦–æ¬¡é…ç½®æµç¨‹
  - `launchClaudeCode()`: å¯åŠ¨ Claude Code å¹¶æ³¨å…¥ç¯å¢ƒå˜é‡
  - è‡ªåŠ¨æ·»åŠ  `--dangerously-skip-permissions` æ ‡å¿—ä»¥æå‡ç”¨æˆ·ä½“éªŒ

#### 2. é…ç½®ç®¡ç† (`src/config/`)

**èŒè´£**: ç”¨æˆ·é…ç½®çš„æŒä¹…åŒ–å­˜å‚¨ã€éªŒè¯å’Œç®¡ç†

- **`ConfigManager`**: é…ç½®ç®¡ç†å™¨ç±»
  - ä½¿ç”¨ `conf` åº“å­˜å‚¨é…ç½®åˆ° `~/.config/glm-claude/config.json`
  - æ”¯æŒé…ç½®çš„ä¿å­˜ã€é‡ç½®ã€å®‰å…¨æ˜¾ç¤ºï¼ˆAPI Key éƒ¨åˆ†éšè—ï¼‰
- **`validator.js`**: API Key æ ¼å¼éªŒè¯
  - æ£€æŸ¥ API Key é•¿åº¦ã€æ ¼å¼
  - æ”¯æŒåœ¨çº¿éªŒè¯ï¼ˆå¯é€‰ï¼‰

#### 3. ç”¨æˆ·ç•Œé¢ (`src/ui/`)

**èŒè´£**: æä¾›å‹å¥½çš„å‘½ä»¤è¡Œäº¤äº’ä½“éªŒ

- **`welcome.js`**: æ˜¾ç¤ºæ¬¢è¿ç•Œé¢å’Œé¡¹ç›®ä»‹ç»
- **`prompts.js`**: äº¤äº’å¼é…ç½®å‘å¯¼
  - API Key è¾“å…¥ï¼ˆå¯†ç ç±»å‹ï¼‰
  - æ¨¡å‹é€‰æ‹©ï¼ˆGLM-4.6, GLM-4.5-Airï¼‰
  - è®¢é˜…å¼•å¯¼å’Œè·å–æŒ‡å—

#### 4. å·¥å…·æ¨¡å— (`src/utils/`)

**èŒè´£**: æä¾›é€šç”¨åŠŸèƒ½æ”¯æŒ

- **`installer.js`**: æ£€æŸ¥å¹¶è‡ªåŠ¨å®‰è£… `@anthropic-ai/claude-code`
- **`logger.js`**: ç»Ÿä¸€çš„æ—¥å¿—è¾“å‡ºï¼Œæ”¯æŒä¸åŒçº§åˆ«çš„é¢œè‰²æ˜¾ç¤º
- **`claude-config.js`**: è‡ªåŠ¨åˆ›å»º `.claude/CLAUDE.md` é…ç½®æ–‡ä»¶

---

## ğŸ”§ é‡è¦é…ç½®

### ç¯å¢ƒå˜é‡

é¡¹ç›®è®¾ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡æ¥å¯åŠ¨ Claude Codeï¼š

```javascript
{
  ANTHROPIC_AUTH_TOKEN: "ç”¨æˆ· GLM API Key",
  ANTHROPIC_BASE_URL: "https://api.z.ai/api/anthropic"
}
```

### é…ç½®æ–‡ä»¶ä½ç½®

- **ç”¨æˆ·é…ç½®**: `~/.config/glm-claude/config.json`
- **é¡¹ç›®é…ç½®**: `{project}/.claude/CLAUDE.md`ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
- **ä¾èµ–å­˜å‚¨**: `~/.config/glm-claude/`

### æ”¯æŒçš„æ¨¡å‹

| GLM æ¨¡å‹ | Claude æ˜ å°„ | æè¿° |
|---------|-------------|------|
| `glm-4.6` | `claude-3-5-sonnet-20241022` | æœ€æ–°æ——èˆ°æ¨¡å‹ï¼Œæ¨èä½¿ç”¨ |
| `glm-4.5-air` | `claude-3-haiku-20240307` | è½»é‡å¿«é€Ÿæ¨¡å‹ |

---

## ğŸš€ ä½¿ç”¨æ–¹å¼

### å®‰è£…

```bash
npm install -g glm-claude
```

### é¦–æ¬¡ä½¿ç”¨

```bash
glm
```

é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨å¼•å¯¼ä½ ï¼š
1. é€‰æ‹©è·å– API Key çš„æ–¹å¼ï¼ˆè®¢é˜…æˆ–å…è´¹é¢åº¦ï¼‰
2. è¾“å…¥ API Key
3. é€‰æ‹©é»˜è®¤æ¨¡å‹
4. è‡ªåŠ¨å®‰è£…å¹¶å¯åŠ¨ Claude Code

### åç»­ä½¿ç”¨

```bash
# å¯åŠ¨ GLM Code
glm

# ç®¡ç†é…ç½®
glm config             # é‡æ–°é…ç½®
glm config --show      # æ˜¾ç¤ºå½“å‰é…ç½®
glm config --reset     # é‡ç½®é…ç½®
glm --help             # å¸®åŠ©ä¿¡æ¯
glm --version          # ç‰ˆæœ¬ä¿¡æ¯
```

---

## ğŸ§ª æµ‹è¯•

### æµ‹è¯•æ¡†æ¶

- **Jest**: å•å…ƒæµ‹è¯•æ¡†æ¶
- **æµ‹è¯•è¦†ç›–ç‡**: ç›®æ ‡ 100%
- **æµ‹è¯•æ–‡ä»¶**: `tests/config.test.js`

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œç‰¹å®šæµ‹è¯•
npm test -- --testNamePattern="ConfigManager"

# è°ƒè¯•æ¨¡å¼
DEBUG=true npm test

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm test -- --coverage
```

### æµ‹è¯•è¦†ç›–èŒƒå›´

- **ConfigManager ç±»**: é…ç½®ä¿å­˜ã€è¯»å–ã€é‡ç½®ã€å®‰å…¨æ˜¾ç¤º
- **API Key éªŒè¯**: æ ¼å¼éªŒè¯ã€è¾¹ç•Œæ¡ä»¶å¤„ç†
- **é…ç½®æŒä¹…åŒ–**: æµ‹è¯• `conf` åº“çš„é›†æˆ

---

## ğŸ”’ å®‰å…¨è€ƒè™‘

### API Key å®‰å…¨

- **å­˜å‚¨**: ä½¿ç”¨ `conf` åº“å®‰å…¨å­˜å‚¨ï¼Œæ”¯æŒåŠ å¯†
- **æ˜¾ç¤º**: é…ç½®æ˜¾ç¤ºæ—¶è‡ªåŠ¨éšè— API Keyï¼ˆåªæ˜¾ç¤ºå‰ 8 ä½å’Œå 4 ä½ï¼‰
- **ä¼ è¾“**: é€šè¿‡ HTTPS ä¸ GLM API é€šä¿¡
- **æƒé™**: é…ç½®æ–‡ä»¶å­˜å‚¨åœ¨ç”¨æˆ·ä¸»ç›®å½•ï¼Œæƒé™å—é™

### ä»£ç å®‰å…¨

- **æ— ç¡¬ç¼–ç å¯†é’¥**: ä»£ç ä¸­ä¸åŒ…å«ä»»ä½• API Key
- **ä¾èµ–æ£€æŸ¥**: å®šæœŸæ£€æŸ¥ä¾èµ–åŒ…çš„å®‰å…¨æ€§
- **è¾“å…¥éªŒè¯**: æ‰€æœ‰ç”¨æˆ·è¾“å…¥éƒ½ç»è¿‡éªŒè¯å’Œæ¸…ç†

---

## ğŸ“‹ API Key è·å–

### æ¨èæ–¹å¼ï¼šè®¢é˜…æœåŠ¡

**ä¼˜åŠ¿**ï¼š
- ğŸ’° **ä½è‡³ 20 å…ƒ/æœˆ** - Claude å®˜æ–¹ä»·æ ¼çš„ 1/7
- ğŸ’³ **æ”¯æŒæ”¯ä»˜å®ã€å¾®ä¿¡** - æ— éœ€å›½é™…ä¿¡ç”¨å¡
- ğŸš€ **å›½å†…ç¨³å®šè®¿é—®** - æ— éœ€é­”æ³•ä¸Šç½‘

**è®¢é˜…é“¾æ¥**: https://zhipuaishengchan.datasink.sensorsdata.cn/t/rR

### å¤‡é€‰æ–¹å¼ï¼šå…è´¹é¢åº¦

1. è®¿é—® [æ™ºè°± AI å¼€æ”¾å¹³å°](https://open.bigmodel.cn/)
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. è¿›å…¥ã€ŒAPI ç®¡ç†ã€
4. åˆ›å»º API Key

---

## ğŸ”„ æ›´æ–°å’Œç»´æŠ¤

### ç‰ˆæœ¬ç®¡ç†

- **è¯­ä¹‰åŒ–ç‰ˆæœ¬**: éµå¾ª semver è§„èŒƒ
- **æ›´æ–°æ£€æŸ¥**: å®šæœŸæ£€æŸ¥ä¾èµ–æ›´æ–°
- **å‘å¸ƒæµç¨‹**: è‡ªåŠ¨åŒ– npm å‘å¸ƒå’Œ git æ ‡ç­¾

### æ–‡æ¡£ç»´æŠ¤

- **README.md**: ä¸»è¦é¡¹ç›®æ–‡æ¡£
- **CLAUDE.md**: Claude Code é…ç½®æ–‡ä»¶ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
- **PROJECT_SUMMARY.md**: é¡¹ç›®æŠ€æœ¯ç»†èŠ‚
- **CONTRIBUTING.md**: è´¡çŒ®æŒ‡å—

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/alchaincyf/glm-claude.git
cd glm-claude

# å®‰è£…ä¾èµ–
npm install

# æœ¬åœ°æµ‹è¯•
npm link

# è¿è¡Œæµ‹è¯•
npm test
```

### ä»£ç è§„èŒƒ

- **ç¼©è¿›**: ä½¿ç”¨ 2 ç©ºæ ¼
- **å‘½å**: é©¼å³°å‘½åæ³•ï¼ˆå‡½æ•°ã€å˜é‡ï¼‰ï¼Œå¤§å†™ä¸‹åˆ’çº¿ï¼ˆå¸¸é‡ï¼‰
- **æ³¨é‡Š**: æ·»åŠ  JSDoc æ³¨é‡Š
- **æµ‹è¯•**: æ–°åŠŸèƒ½å¿…é¡»åŒ…å«æµ‹è¯•

### æäº¤ä¿¡æ¯æ ¼å¼

```
feat: æ·»åŠ æ–°åŠŸèƒ½
fix: ä¿®å¤ bug
docs: æ›´æ–°æ–‡æ¡£
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: ä»£ç é‡æ„
test: æµ‹è¯•ç›¸å…³
chore: æ„å»º/å·¥å…·é“¾ç›¸å…³
```

---

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ‰¾ä¸åˆ° claude å‘½ä»¤**
   - GLM Code ä¼šè‡ªåŠ¨å®‰è£… Claude Codeï¼Œå¦‚æœå¤±è´¥è¯·æ‰‹åŠ¨å®‰è£…ï¼š
   ```bash
   npm install -g @anthropic-ai/claude-code
   ```

2. **API Key éªŒè¯å¤±è´¥**
   - æ£€æŸ¥ API Key æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤é¢åº¦æ˜¯å¦å……è¶³
   - é‡æ–°é…ç½®ï¼š`glm config --reset`

3. **æƒé™é”™è¯¯**
   ```bash
   # macOS/Linux
   sudo npm install -g glm-claude
   
   # æˆ–é…ç½® npm å…¨å±€ç›®å½•
   npm config set prefix ~/.npm-global
   export PATH=~/.npm-global/bin:$PATH
   ```

### è°ƒè¯•æ¨¡å¼

```bash
# å¯ç”¨è°ƒè¯•è¾“å‡º
DEBUG=true glm
DEBUG=true npm test
```

---

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

- **ä»£ç æ–‡ä»¶**: ~20 ä¸ª
- **ä»£ç è¡Œæ•°**: ~2000 è¡Œ
- **åŒ…å¤§å°**: 13.9 KB (å‹ç¼©å)
- **æµ‹è¯•è¦†ç›–ç‡**: 100%
- **ä¾èµ–æ•°é‡**: 6 ä¸ªç”Ÿäº§ä¾èµ–

---

## ğŸ¯ æœ€ä½³å®è·µ

### ä½¿ç”¨å»ºè®®

1. **æ˜ç¡®éœ€æ±‚**: æ¸…æ™°æè¿°ç¼–ç¨‹ä»»åŠ¡å’Œé¢„æœŸæ•ˆæœ
2. **æä¾›ä¸Šä¸‹æ–‡**: è¯´æ˜é¡¹ç›®èƒŒæ™¯ã€æŠ€æœ¯æ ˆå’Œç°æœ‰ç»“æ„
3. **é€æ­¥è¿­ä»£**: å…ˆè§£å†³æ ¸å¿ƒé—®é¢˜ï¼Œå†å®Œå–„ç»†èŠ‚
4. **ä¸»åŠ¨éªŒè¯**: åŠæ—¶æµ‹è¯• AI ç”Ÿæˆçš„ä»£ç 

### æ€§èƒ½ä¼˜åŒ–

- é¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨å®‰è£… Claude Codeï¼Œåç»­ä½¿ç”¨æ— éœ€ç­‰å¾…
- é…ç½®æ–‡ä»¶è‡ªåŠ¨ç¼“å­˜ï¼Œå‡å°‘é‡å¤è¾“å…¥
- ä½¿ç”¨è½»é‡çº§æ¨¡å‹è¿›è¡Œå¿«é€Ÿä»»åŠ¡

---

## ğŸ“ æ”¯æŒå’Œè”ç³»

- **GitHub Issues**: https://github.com/alchaincyf/glm-claude/issues
- **æŠ€æœ¯æ”¯æŒ**: å…³æ³¨å…¬ä¼—å·ã€ŒèŠ±å”ã€
- **API ç®¡ç†**: https://bigmodel.cn/usercenter/proj-mgmt/apikeys
- **è®¢é˜…æœåŠ¡**: https://zhipuaishengchan.datasink.sensorsdata.cn/t/rR

---

**å½“å‰æ¨¡å‹**: GLM-4.6 æ——èˆ°ç‰ˆ  
**æŠ€æœ¯æ”¯æŒ**: èŠ±å”å›¢é˜Ÿ  
**ç‰ˆæƒæ‰€æœ‰**: GLM Code by èŠ±å”

ç¥ä½ ç¼–ç¨‹æ„‰å¿«ï¼ğŸ’»âœ¨
